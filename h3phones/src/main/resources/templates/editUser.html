
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>Đăng ký</title>

<!-- Meta tags -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- CSS Stylesheet -->
<link rel="stylesheet" th:href="@{/css/login.css}" type="text/css"
	media="all" />
<link th:href="@{/css/font-awesome.css}" rel="stylesheet">

</head>

<body>
	<div class="signinform" style="height: 750px;">

		<!-- container -->
		<div class="container">
			<!-- main content -->
			<div class="w3l-form-info">

				<div class="w3_info" style="width: 720px">
				<div style="float: right; color: #b81d22"><a style="color: #b81d22" th:href="@{/h3phone}">Về trang chủ<i class="fas fa-home"></i></a>
				</div>
					<div class="logo" style="margin-left: 30%">
						<a href="index.html"><img id="logo_img"
							th:src="@{/images/H3PF2.png}" alt="" /></a>
					</div>
					<h2 style="margin-top: 60px">Cập nhật thông tin</h2>
					<form method="POST" th:action="@{/h3phone/editUser}"
						th:object="${updateUser}">
						<input type="text"  th:field="*{roleInfo.roleId}" hidden="true">
						<div class="form-group">
							<label for="selector1" class="col-sm-2 control-label">Tên
								đăng nhập</label>
							<div class="col-sm-8 input1">
								<input th:field="*{userName}" type="text" class="form-control1"
									placeholder="Tên đăng nhập" required="required"
									pattern="[A-Za-z0-9]{2,20}" oninvalid="InvalidMsg(this);"
									onvalid="InvalidMsg(this);" onchange="removeFail()">
								<div id="fail" style="margin-bottom: 0px; color: red"
									class="alert alert-primary" role="alert" th:text="${fail}+'!'"
									th:if="${fail}"></div>
							</div>
						</div>
						<div class="form-group">
							<label for="selector1" class="col-sm-2 control-label">Đổi
								mật khẩu</label>
							<div class="col-sm-8">
								<input style="width: 20px; height: 20px; margin-left: 25%; margin-top: -15px;" type="checkbox" class="form-control1"
									id="check">
							</div>
						</div>
						<script type="text/javascript">
							function removeFail() {
								$('#fail').remove();
							}
						</script>
						<div class="form-group">
							<label class="col-sm-2 control-label">Mật khẩu</label>
							<div class="col-sm-8 input1">
								<input disabled="disabled" type="password" class="form-control"
									name="password"
									pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*"
									placeholder="Mật khẩu" id="password1" required
									title="Tối thiểu 8 ký tự bao gồm chữ cái in hoa, chữ thường và số" />
								<p class="validation01">
									<span class="invalid">Tối thiểu 8 ký tự bao gồm chữ cái
										in hoa, chữ thường và số</span>

								</p>
							</div>
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">Xác nhận mật khẩu</label>
							<div class="col-sm-8 input1">
								<input disabled="disabled" type="password" class="form-control"
									name="password"
									pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*"
									placeholder="Xác nhận mật khẩu" id="password2" required
									th:field="*{passWords}"
									title="Tối thiểu 8 ký tự bao gồm chữ cái in hoa, chữ thường và số" />
								<p class="validation01">
									<span class="invalid">Tối thiểu 8 ký tự bao gồm chữ cái
										in hoa, chữ thường và số</span>

								</p>
							</div>
						</div>
						<div class="form-group">
							<label for="focusedinput" class="col-sm-2 control-label">Họ
								và tên</label>
							<div class="col-sm-8 input1">
								<input th:field="*{fullName}" type="text" class="form-control1"
									placeholder="Họ và tên" required>
							</div>

						</div>
						<div class="form-group">
							<label for="focusedinput" class="col-sm-2 control-label">Số
								điện thoại</label>
							<div class="col-sm-8 input1">
								<input th:field="*{phoneNumbers}" type="text"
									class="form-control1" placeholder="Số điện thoại"
									required="required" pattern="[0-9]{1,10}"
									oninvalid="InvalidPhMsg(this);" onvalid="InvalidPhMsg(this);">
							</div>

						</div>
						<div class="form-group">
							<label for="focusedinput" class="col-sm-2 control-label">Email</label>
							<div class="col-sm-8 input1">
								<input th:field="*{email}" type="email" class="form-control1"
									placeholder="Email" oninvalid="InvalidEmMsg(this);"
									onvalid="InvalidEmMsg(this);">
							</div>

						</div>
						<div class="form-group">
							<label for="focusedinput" class="col-sm-2 control-label">Địa
								chỉ</label>
							<div class="col-sm-8 input1">
								<input th:field="*{address}" type="text" class="form-control1"
									placeholder="Địa chỉ" required="required"
									oninvalid="this.setCustomValidity('Vui lòng nhập thông tin')"
									onvalid="this.setCustomValidity('')">
							</div>

						</div>
						<button style="width: 200px" class="btn btn-primary btn-block"
							type="submit">Cập nhật</button>
					</form>


				</div>
			</div>

			<!-- //main content -->
		</div>
		<!-- //container -->
		<!-- footer -->
		<div class="footer">
			<p>&copy;H3Phone Store</p>
		</div>
		<!-- footer -->
	</div>
	<script type="text/javascript">
		window.onload = function() {
			document.getElementById("password1").onchange = validatePassword;
			document.getElementById("password2").onchange = validatePassword;
		}
		function validatePassword() {
			var pass2 = document.getElementById("password2").value;
			var pass1 = document.getElementById("password1").value;
			if (pass1 != pass2)
				document.getElementById("password2").setCustomValidity(
						"Mật khẩu không khớp");
			else
				document.getElementById("password2").setCustomValidity('');

		}
	</script>

	<!-- side nav js -->
	<script>
		function InvalidMsg(textbox) {

			if (textbox.validity.valueMissing) {
				textbox.setCustomValidity('Vui lòng nhập thông tin!');
				textbox.title = 'Vui lòng nhập thông tin!!';
			} else if (!textbox.validity.typeMismatch) {
				textbox.setCustomValidity('Vui lòng nhập đúng định dạng!');
				textbox.title = 'Tối thiểu 2 ký tự, viết liền không dấu'
			} else {
				textbox.setCustomValidity('');
			}

			return true;
		}

		function InvalidPhMsg(textbox) {

			if (textbox.validity.valueMissing) {
				textbox.setCustomValidity('Vui lòng nhập thông tin!');
				textbox.title = 'Vui lòng nhập thông tin!!';
			} else if (!textbox.validity.typeMismatch) {
				textbox
						.setCustomValidity('Vui lòng nhập đúng định dạng số điện thoại!');
				textbox.title = ''
			} else {
				textbox.setCustomValidity('');
			}

			return true;
		}

		function InvalidEmMsg(textbox) {

			if (textbox.validity.valueMissing) {
				textbox.setCustomValidity('Vui lòng nhập thông tin!');
				textbox.title = 'Vui lòng nhập thông tin!!';
			} else if (!textbox.validity.typeMismatch) {
				textbox
						.setCustomValidity('Vui lòng nhập đúng định dạng email!');
				textbox.title = ''
			} else {
				textbox.setCustomValidity('');
			}

			return true;
		}
	</script>
	<!-- fontawesome v5-->
	<script th:src="@{/js/fontawesome.js}"></script>
	<script type="text/javascript">
		document.getElementById('check').onchange = function() {
			document.getElementById('password1').disabled = !this.checked;
			document.getElementById('password2').disabled = !this.checked;
		};

		</body>

		</html>
	