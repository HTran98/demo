<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/headAdmin :: head">
</head>
<div th:replace="/admin/headAdmin :: body"></div>
<!-- //header-ends -->
<!-- main content start-->
<div id="page-wrapper">
	<!-- <div class="main-page"> -->
	<div>
		<form th:action="@{/adminPage/report/productDetail}"
			class="form-horizontal" method="POST" th:object="${searchDto}">

			<div class="form-group">
				<label style="margin-top: 13px;" for="selector1"
					class="col-sm-1 control-label">Từ </label>
				<div class="col-sm-2" style="margin-top: 10px">
					<input type="date" th:field="*{startDate}" />
				</div>
				<label style="margin-top: 13px;" for="selector1"
					class="col-sm-1 control-label">Đến </label>
				<div class="col-sm-2" style="margin-top: 10px">
					<input type="date" th:field="*{endDate}" />
				</div>

				<button style="margin-top: 15px; margin-left: 35px" type="submit">Áp
					dụng</button>
			</div>
			<div class="form-group">

				<label style="margin-top: 13px;" for="selector1"
					class="col-sm-1 control-label">Sản phẩm </label>
				<div class="col-sm-2" style="margin-top: 27px">
					<input type="text" id="product" onkeyup="filter()" />
				</div>
				<label style="margin-top: 13px;" for="selector1"
					class="col-sm-1 control-label"> </label>
				<div class="col-sm-2" style="margin-top: 27px">
					<select th:field="*{productType}" style="height: 26px;"
						id="productType">
						<option th:text="''" th:value="'0'"></option>
						<option th:text="'Điện thoại'" th:value="'1 Điện thoại'"></option>
						<option th:text="'Tai nghe'" th:value="'2 Tai nghe'"></option>
						<option th:text="'Tổng'" th:value="'3 Tổng'"></option>
					</select>

				</div>

			</div>
		</form>

	</div>
	<th:block th:if="${chartDataSales}">
		<div class="bs-example widget-shadow"
			data-example-id="hoverable-table">

			<form th:action="@{/adminPage/report/outputCsv}"
				th:object="${searchDto}" method="POST">
				<input type="date" th:field="*{startDate}" hidden="true" /> <input
					type="date" th:field="*{endDate}" hidden="true" /> <input
					type="text" id="product" th:field="*{productType}" hidden="true" />
				<button style="margin-left: 85%; margin-top: 15px;">Xuất file Csv</button>
			</form>
			<div align="center" style="width: 1000px;">
				<h2 style="padding-top: 30px">Doanh số bán hàng</h2>
				<div id="piechart" style="width: 900px; height: 500px;"></div>
			</div>
			<script th:inline="javascript">
				var real_data = /*[[${chartDataSales}]]*/'noValue';

				$(document).ready(function() {
					google.charts.load('current', {
						packages : [ 'corechart', 'bar' ]
					});

					google.charts.setOnLoadCallback(drawPieChart);
				});

				function drawPieChart() {
					var data = new google.visualization.DataTable();
					data.addColumn('string', 'Sản phẩm');
					data.addColumn('number', 'Số lượng');
					Object.keys(real_data).forEach(function(key) {
						data.addRow([ key, real_data[key] ]);
					});
					var options = {
						title : 'Doanh số'
					};
					var chart = new google.visualization.PieChart(document
							.getElementById('piechart'));
					chart.draw(data, options);
				}
			</script>



		</div>
	</th:block>
	<!-- </div> -->
</div>
<!--footer-->
<div class="footer">
	<p>&copy; 2021 H3Phone Store</p>
</div>
<!--//footer 
'selected'      -->
<script>
	$(document).ready(
			function() {
				$("#product").on(
						"keyup",
						function() {
							var value = $(this).val().toLowerCase();

							$("#productType option").filter(
									function() {
										$(this).toggle(
												$(this).val().toLowerCase()
														.indexOf(value) > -1);

									});

						});
				document.getElementById('productType').getElementsByTagName(
						'option')[0].selected = 'selected';
			});
</script>
<script type="text/javascript">
	(function() {

		document.getElementById('status').getElementsByTagName('option')[0].selected = 'selected';

	})();
</script>
<!-- side nav js -->
<script th:src="@{/admin/js/SidebarNav.min.js}" type='text/javascript'></script>
<script>
	$('.sidebar-menu').SidebarNav()
</script>
<!-- //side nav js -->

<!-- Classie -->
<!-- for toggle left push menu script -->
<script th:src="@{/admin/js/classie.js}"></script>

<!-- //Classie -->
<!-- //for toggle left push menu script -->

<!--scrolling js-->
<script th:src="@{/admin/js/jquery.nicescroll.js}"></script>
<script th:src="@{/admin/js/scripts.js}"></script>
<!--//scrolling js-->

<!-- Bootstrap Core JavaScript -->
<script th:src="@{/admin/js/bootstrap.js}">
	
</script>

</body>
</html>