<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/headAdmin :: head">
</head>
<div th:replace="/admin/headAdmin :: body"></div>
<!-- //header-ends -->
<!-- main content start-->
<div id="page-wrapper">
	<!-- <div class="main-page"> -->
	<div>
		<form th:action="@{/adminPage/invoice/filter}" class="form-horizontal"
			method="GET" th:object="${searchDto}">

			<div class="form-group">
				<label style="margin-top: 13px;" for="selector1" class="col-sm-1 control-label">Từ </label>
				<div class="col-sm-2" style="margin-top: 10px">
					<input type="date" th:field="*{startDate}" />
				</div>
				<label style="margin-top: 13px;" for="selector1" class="col-sm-1 control-label">Đến </label>
				<div class="col-sm-2" style="margin-top: 10px">
					<input type="date" th:field="*{endDate}" />
				</div>
				<label style="margin-top: 13px;" for="selector1" class="col-sm-2 control-label">Trạng
					thái đơn hàng</label>
				<div class="col-sm-2" style="margin-top: 10px">
					<select th:field="*{status}" id="status"
						style="border: 1px solid #ccc; height: 40px; width: 200px;">
						<option th:value="'-1'" ></option>
						<option th:value="'0'" th:text="'Đơn hàng đã hủy'"></option>
						<option th:value="'1'" th:text="'Đơn hàng đang chuẩn bị để giao'"></option>
						<option th:value="'2'" th:text="'Đang trên đường vận chuyển'"></option>
						<option th:value="'3'" th:text="'Giao hàng thành công'"></option>
						<option th:value="'4'" th:text="'Hàng hoàn'"></option>
					</select>
				</div>
				<button style="margin-top: 15px; margin-left: 35px" type="submit">Áp dụng</button>
			</div>

		</form>

		<form th:action="@{/adminPage/invoice/search}" method="GET"
			style="margin-left: 75%; margin-top: 20px">
			<input type="search" name="keyWords"
				placeholder="Mã đơn hàng, số điện thoại, người nhận..."
				style="padding-right: 15px"><i class="fa fa-search"
				aria-hidden="true" style="margin-left: -18px"></i>
		</form>
	</div>
	<div class="bs-example widget-shadow scrolltbl"
		data-example-id="hoverable-table">

		<table class="table table-hover" id="mytable" style="width: 300%;">
			<thead>
				<tr>
					<th>#</th>
					<th>Mã đơn hàng</th>
					<th>Thành tiền</th>
					<th>Người nhận</th>
					<th>Địa chỉ</th>
					<th>Số điện thoại</th>
					<th>Ghi chú</th>
					<th>Tình trạng đơn hàng</th>
					<th>Thời gian giao hàng</th>
					<th>Ngày tạo</th>
					<th>Người tạo</th>
					<th>Ngày cập nhật</th>
					<th>Người cập nhật</th>
					<th>Chi tiết đơn hàng</th>
					<th>Chỉnh sửa</th>
					<th>Xóa</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="invoice,iterStat: ${listInvoice}">
					<td th:text="${iterStat.count}"></td>
					<td th:text="${invoice.invoiceCode}"></td>
					<td th:text="${invoice.totalInvoice}"></td>
					<td th:text="${invoice.customer}"></td>
					<td th:text="${invoice.address}"></td>
					<td th:text="${invoice.phoneNumber}"></td>
					<td th:text="${invoice.comment}"></td>
					<td th:if="${invoice.status} == 0" th:text="'Đơn hàng đã hủy'"></td>
					<td th:if="${invoice.status} == 1"
						th:text="'Đơn hàng đang chuẩn bị để giao'"></td>
					<td th:if="${invoice.status} == 2"
						th:text="'Đang trên đường vẫn chuyển'"></td>
					<td th:if="${invoice.status} == 3" th:text="'Giao hàng thành công'"></td>
					<td th:if="${invoice.status} == 4" th:text="'Hàng hoàn'"></td>
					<td class="invert"
						th:text="'Thời gian giao hàng dự kiến '+${invoice.deliveryTime}"></td>

					<td th:text="${invoice.createdDate}"></td>
					<td th:text="${invoice.createdBy}"></td>
					<td th:text="${invoice.updatedDate}"></td>
					<td th:text="${invoice.updatedBy}"></td>
					<td><a
						th:href="@{/adminPage/invoice/invoiceDetail(invoiceId=${invoice.invoiceId})}"
						style="margin-left: 50%"><i class="fa fa-info" aria-hidden="true"></i></a></td>
					<td><a
						th:href="@{/adminPage/invoice/update(invoiceId=${invoice.invoiceId})}"
						style="margin-left: 50%"><i class="fa fa-pencil"
							aria-hidden="true"></i></a></td>
					<td><a
						th:href="@{/adminPage/invoice/delete(invoiceId=${invoice.invoiceId})}"
						onclick="return confirm('Đơn hàng sẽ được xóa khỏi hệ thống?');"
						style="margin-left: 50%"><i class="fa fa-trash-o"
							aria-hidden="true"></i></a></td>
				</tr>

			</tbody>
		</table>

		<!-- </div> -->


	</div>
	<!-- </div> -->
</div>
<!--footer-->
<div class="footer">
	<p>&copy; 2021 H3Phone Store</p>
</div>
<!--//footer 
'selected'      -->

<script type="text/javascript">
(function(){
	
	document.getElementById('status').getElementsByTagName('option')[0].selected = 'selected';

})();

</script>
<!-- side nav js -->
<script th:src="@{/admin/js/SidebarNav.min.js}" type='text/javascript'></script>
<script>
	$('.sidebar-menu').SidebarNav()
</script>
<!-- //side nav js -->

<!-- Classie -->
<!-- for toggle left push menu script -->
<script th:src="@{/admin/js/classie.js}"></script>

<!-- //Classie -->
<!-- //for toggle left push menu script -->

<!--scrolling js-->
<script th:src="@{/admin/js/jquery.nicescroll.js}"></script>
<script th:src="@{/admin/js/scripts.js}"></script>
<!--//scrolling js-->

<!-- Bootstrap Core JavaScript -->
<script th:src="@{/admin/js/bootstrap.js}">
	
</script>

</body>
</html>