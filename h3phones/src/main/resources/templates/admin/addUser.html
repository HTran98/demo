<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/headAdmin :: head">
</head>
<div th:replace="/admin/headAdmin :: body"></div>
<!-- //header-ends -->
<!-- main content start-->
<div id="page-wrapper">
	<!-- <div class="main-page"> -->

	<div class="row">
		<h3 class="title1">Người dùng :</h3>
		<div class="form-three widget-shadow">
			<form th:action="@{/adminPage/user/createUser}" method="POST"
				th:object="${newUser}" class="form-horizontal">
				<div class="form-group">
					<label for="selector1" class="col-sm-2 control-label">Quyền
						truy cập</label>
					<div class="col-sm-8" sty>
						<select th:field="*{roleInfo.roleId}"
							style="border: 1px solid #ccc; height: 40px; width: 160px;">

							<option th:each="role: ${listRole}" th:value="${role.roleId}"
								th:text="${role.roleName}"></option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label for="selector1" class="col-sm-2 control-label">Tên
						đăng nhập</label>
					<div class="col-sm-8">
						<input th:field="*{userName}" type="text" class="form-control1"
							placeholder="Tên đăng nhập" required="required"
							pattern="[A-Za-z0-9]{2,20}" oninvalid="InvalidMsg(this);"
							onvalid="InvalidMsg(this);" onchange="removeFail()">
						<div id="fail" style="margin-bottom: 0px; color: red"
							class="alert alert-primary" role="alert" th:text="${fail}+'!'"
							th:if="${fail}"></div>
					</div>
				</div>
				<script type="text/javascript">
					function removeFail() {
						$('#fail').remove();
					}
				</script>
				<div class="form-group">
					<label class="col-sm-2 control-label">Mật khẩu</label>
					<div class="col-sm-8">
						<input type="password" class="form-control" name="password"
							pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*"
							placeholder="Mật khẩu" id="password1" required
							title = "Tối thiểu 8 ký tự bao gồm chữ cái in hoa, chữ thường và số" />
						<p class="validation01">
							<span class="invalid">Tối thiểu 8 ký tự bao gồm chữ cái in
								hoa, chữ thường và số</span>

						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">Xác nhận mật khẩu</label>
					<div class="col-sm-8">
						<input type="password" class="form-control" name="password"
							pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*"
							placeholder="Xác nhận mật khẩu" id="password2" required
							th:field="*{passWords}" title = "Tối thiểu 8 ký tự bao gồm chữ cái in hoa, chữ thường và số" />
						<p class="validation01">
							<span class="invalid">Tối thiểu 8 ký tự bao gồm chữ cái in
								hoa, chữ thường và số</span>

						</p>
					</div>
				</div>
				<div class="form-group">
					<label for="focusedinput" class="col-sm-2 control-label">Họ
						và tên</label>
					<div class="col-sm-8">
						<input th:field="*{fullName}" type="text" class="form-control1"
							placeholder="Họ và tên" required
							>
					</div>

				</div>
				<div class="form-group">
					<label for="focusedinput" class="col-sm-2 control-label">Số
						điện thoại</label>
					<div class="col-sm-8">
						<input th:field="*{phoneNumbers}" type="text"
							class="form-control1" placeholder="Số điện thoại"
							required="required" pattern="[0-9]{10,10}"
							oninvalid="InvalidPhMsg(this);" onvalid="InvalidPhMsg(this);">
					</div>

				</div>
				<div class="form-group">
					<label for="focusedinput" class="col-sm-2 control-label">Email</label>
					<div class="col-sm-8">
						<input th:field="*{email}" type="email" class="form-control1"
							placeholder="Email" oninvalid="InvalidEmMsg(this);"
							onvalid="InvalidEmMsg(this);">
					</div>

				</div>
				<div class="form-group">
					<label for="focusedinput" class="col-sm-2 control-label">Địa
						chỉ</label>
					<div class="col-sm-8">
						<input th:field="*{address}" type="text" class="form-control1"
							placeholder="Địa chỉ" required="required"
							oninvalid="this.setCustomValidity('Vui lòng nhập thông tin')"
							onvalid="this.setCustomValidity('')">
					</div>

				</div>

				<button type="submit" class="btn btn-default">Thêm tài
					khoản</button>
			</form>
		</div>
	</div>

</div>
<!--footer-->
<div class="footer">
	<p>&copy; 2021 H3Phone Store</p>
</div>
<!--//footer-->
<script type="text/javascript">
	window.onload = function() {
		document.getElementById("password1").onchange = validatePassword;
		document.getElementById("password2").onchange = validatePassword;
	}
	function validatePassword() {
		var pass2 = document.getElementById("password2").value;
		var pass1 = document.getElementById("password1").value;
		if (pass1 != pass2)
			document.getElementById("password2").setCustomValidity(
					"Mật khẩu không khớp");
		else
			document.getElementById("password2").setCustomValidity('');

	}
</script>

<!-- side nav js -->
<script>

	function InvalidMsg(textbox) {

		if (textbox.validity.valueMissing) {
			textbox.setCustomValidity('Vui lòng nhập thông tin!');
			textbox.title = 'Vui lòng nhập thông tin!!';
		} else if (!textbox.validity.typeMismatch) {
			textbox.setCustomValidity('Vui lòng nhập đúng định dạng!');
			textbox.title = 'Tối thiểu 2 ký tự, viết liền không dấu'
		} else {
			textbox.setCustomValidity('');
		}

		return true;
	}

	function InvalidPhMsg(textbox) {

		if (textbox.validity.valueMissing) {
			textbox.setCustomValidity('Vui lòng nhập thông tin!');
			textbox.title = 'Vui lòng nhập thông tin!!';
		} else if (!textbox.validity.typeMismatch) {
			textbox
					.setCustomValidity('Vui lòng nhập đúng định dạng số điện thoại!');
			textbox.title = ''
		} else {
			textbox.setCustomValidity('');
		}

		return true;
	}

	function InvalidEmMsg(textbox) {

		if (textbox.validity.valueMissing) {
			textbox.setCustomValidity('Vui lòng nhập thông tin!');
			textbox.title = 'Vui lòng nhập thông tin!!';
		} else if (!textbox.validity.typeMismatch) {
			textbox.setCustomValidity('Vui lòng nhập đúng định dạng email!');
			textbox.title = ''
		} else {
			textbox.setCustomValidity('');
		}

		return true;
	}
</script>

<script th:src="@{/admin/js/SidebarNav.min.js}" type='text/javascript'></script>
<script>
	$('.sidebar-menu').SidebarNav()
</script>
<!-- //side nav js -->

<!-- Classie -->
<!-- for toggle left push menu script -->
<script th:src="@{/admin/js/classie.js}"></script>

<!-- //Classie -->
<!-- //for toggle left push menu script -->

<!--scrolling js-->
<script th:src="@{/admin/js/jquery.nicescroll.js}"></script>
<script th:src="@{/admin/js/scripts.js}"></script>
<!--//scrolling js-->

<!-- Bootstrap Core JavaScript -->
<script th:src="@{/admin/js/bootstrap.js}">
	
</script>

</body>
</html>