<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/headAdmin :: head">
</head>
<div th:replace="/admin/headAdmin :: body"></div>

<!-- //header-ends -->
<!-- main content start-->

<div id="page-wrapper">
	<!-- <div class="main-page"> -->
	<div>
		<form th:action="@{/adminPage/user/filter}" class="form-horizontal"
			method="GET">
			<input type="text" name="" hidden="true">
			<div class="form-group">
				<label for="selector1" class="col-sm-1 control-label">Quyền
					truy cập</label>
				<div class="col-sm-2" style="margin-top: 10px">
					<select name="roleId" id="role" style="width: 150px">
						<option th:value="'0'"></option>
						<option th:each="role:${listRole}" th:value="${role.roleId}"
							th:text="${role.roleName}"></option>
					</select>
				</div>
				<label for="selector1" class="col-sm-1 control-label">Tên
					đăng nhập</label>
				<div class="col-sm-2" style="margin-top: 10px">
					<select name="userId" id="user" style="width: 150px">
						<option th:value="'0 0 0'"></option>
						<option th:each="user: ${listUserFilter}"
							th:value="${user.roleInfo.roleId}+' 0 '+${user.userId}"
							th:text="${user.userName}"></option>
					</select>
				</div>
				<button style="margin-top: 10px" type="submit">Áp dụng</button>
			</div>
		</form>
		<form th:action="@{/adminPage/user/search}" method="GET"
			style="margin-left: 75%; margin-top: -55px">
			<input type="search" name="keyWords"
				placeholder="Tên đăng nhập, số điện thoại..."
				style="padding-right: 15px"><i class="fa fa-search"
				aria-hidden="true" style="margin-left: -18px"></i>
		</form>
	</div>

	<div style="margin-top: 55px">
		<a th:href="@{/adminPage/user/createUser}"><button>Thêm
				mới</button></a>
	</div>
	<div class="bs-example widget-shadow scrolltbl"
		data-example-id="hoverable-table">

		<table class="table table-hover" id="mytable" style="width: 160%;">
			<thead>
				<tr>
					<th>#</th>
					<th>Tên đăng nhập</th>
					<th>Quyền truy cập</th>
					<th>Họ và tên</th>
					<th>Số điện thoại</th>
					<th>Email</th>
					<th>Địa chỉ</th>
					<th>Ngày tạo</th>
					<th>Người tạo</th>
					<th>Ngày cập nhật</th>
					<th>Người cập nhật</th>
					<th>Chỉnh sửa</th>
					<th>Xóa</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="user,iterStat : ${listUser}">
					<td th:text="${iterStat.count}"></td>
					<td th:text="${user.userName}"></td>
					<th th:text="${user.roleInfo.roleName}"></th>
					<td th:text="${user.fullName}"></td>
					<td th:text="${user.phoneNumbers}"></td>
					<td th:text="${user.email}"></td>
					<td th:text="${user.address}"></td>
					<td th:text=${user.createdDate}></td>
					<td th:text="${user.createdBy}"></td>
					<td th:text="${user.updatedDate}"></td>
					<td th:text=${user.updatedBy}></td>
					<td><a
						th:href="@{/adminPage/user/update(userId=${user.userId})}"
						style="margin-left: 50%"><i class="fa fa-pencil"
							aria-hidden="true"></i></a></td>
					<td><a
						th:href="@{/adminPage/user/delete(userId=${user.userId})}"
						onclick="return confirm('User sẽ được xóa khỏi hệ thống?');"
						style="margin-left: 50%"><i class="fa fa-trash-o"
							aria-hidden="true"></i></a></td>
				</tr>

			</tbody>
		</table>

		<!-- </div> -->


	</div>
	<!-- </div> -->
</div>
<!--footer-->
<div class="footer">
	<p>&copy; 2021 H3Phone Store</p>
</div>
<!--//footer-->

<script>
	$(document)
			.ready(
					function() {
						$("#role")
								.on(
										"change",
										function() {
											var value = $(this).val()
													.toLowerCase();
											
	document.getElementById('user')
													.getElementsByTagName(
															'option')[0].selected = 'selected'

											$("#user option")
													.filter(
															function() {
																$(this)
																		.toggle(
																				$(
																						this)
																						.val()
																						.toLowerCase()
																						.indexOf(
																								value) > -1);
																console
																		.log($(
																				this)
																				.val()
																				.split(
																						' ',
																						1))

															});
										});
					});
</script>

<!-- side nav js -->
<script th:src="@{/admin/js/SidebarNav.min.js}" type='text/javascript'></script>
<script>
	$('.sidebar-menu').SidebarNav()
</script>
<!-- //side nav js -->

<!-- Classie -->
<!-- for toggle left push menu script -->
<script th:src="@{/admin/js/classie.js}"></script>

<!-- //Classie -->
<!-- //for toggle left push menu script -->

<!--scrolling js-->
<script th:src="@{/admin/js/jquery.nicescroll.js}"></script>
<script th:src="@{/admin/js/scripts.js}"></script>
<!--//scrolling js-->

<!-- Bootstrap Core JavaScript -->
<script th:src="@{/admin/js/bootstrap.js}">
	
</script>

</body>
</html>